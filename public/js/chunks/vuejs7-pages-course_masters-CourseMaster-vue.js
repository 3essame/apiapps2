(self.webpackChunk=self.webpackChunk||[]).push([[899,927],{6344:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});var r=s(3645),a=s.n(r)()((function(t){return t[1]}));a.push([t.id,".lighten[data-v-03cddcfa]{background-color:#bfffb9}.l-table[data-v-03cddcfa]{background-color:#fff;overflow-x:auto;padding:5px}.l-table table[data-v-03cddcfa]{border-collapse:collapse;width:100%}.l-table table td[data-v-03cddcfa],.l-table table th[data-v-03cddcfa]{border-bottom:1px solid #eee;padding:5px;text-align:center}.l-table table th[data-v-03cddcfa]{min-width:100px}",""]);const n=a},1854:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});var r=s(3645),a=s.n(r)()((function(t){return t[1]}));a.push([t.id,".theme--light.v-subheader{color:rgba(0,0,0,.6)}.theme--dark.v-subheader{color:hsla(0,0%,100%,.7)}.v-subheader{align-items:center;display:flex;font-size:.875rem;font-weight:400;height:48px;padding:0 16px}.v-subheader--inset{margin-left:56px}",""]);const n=a},8384:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>v});const r={props:{value:{type:Array},items:{type:Array,default:function(){return[]}},headers:{type:Array},search:{type:String},options:{type:Array},totals:{type:Array},inputs:{type:Boolean},selectable:{type:Boolean,default:!1}},data:function(){return{select_all:""}},computed:{_headers:function(){return this.headers.map((function(t){var e=t.split("|");return{text:e[0],align:"right",value:e.length>1?e[1]:e[0]}}))}},methods:{setTest:function(t){this.$emit("input",this.items.filter((function(t){return 1==t.___selected})))},setSelectAll:function(){var t=this;this.items.forEach((function(e){return e.___selected=!t.select_all})),this.$emit("input",this.items.filter((function(t){return 1==t.___selected})))},getValue:function(t,e){for(var s=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),r=0,a=s.length;r<a;++r){var n=s[r];if(!(n in t))return;t=t[n]}return t}}};var a=s(3379),n=s.n(a),i=s(6344),o={insert:"head",singleton:!1};n()(i.Z,o);i.Z.locals;var l=s(1900),c=s(3453),u=s.n(c),d=s(422),_=(0,l.Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-table"},[s("table",[s("thead",[t.selectable?s("td",{staticStyle:{width:"30px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.select_all,expression:"select_all"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.select_all)?t._i(t.select_all,null)>-1:t.select_all},on:{input:function(e){return t.setSelectAll()},change:function(e){var s=t.select_all,r=e.target,a=!!r.checked;if(Array.isArray(s)){var n=t._i(s,null);r.checked?n<0&&(t.select_all=s.concat([null])):n>-1&&(t.select_all=s.slice(0,n).concat(s.slice(n+1)))}else t.select_all=a}}})]):t._e(),t._v(" "),t._l(t._headers,(function(e,r){return s("th",{key:r},[t._v(t._s(e.text))])}))],2),t._v(" "),s("tbody",[t.inputs?s("tr",[t._l(t._headers,(function(e,r){return s("td",{key:r},[t._t("input-"+e.value)],2)})),t._v(" "),s("td",[t._t("input-options")],2)],2):t._e(),t._v(" "),t._l(t.items,(function(e,r){return s("tr",{key:r},[t.selectable?s("td",{staticStyle:{width:"30px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.___selected,expression:"item.___selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.___selected)?t._i(e.___selected,null)>-1:e.___selected},on:{change:[function(s){var r=e.___selected,a=s.target,n=!!a.checked;if(Array.isArray(r)){var i=t._i(r,null);a.checked?i<0&&t.$set(e,"___selected",r.concat([null])):i>-1&&t.$set(e,"___selected",r.slice(0,i).concat(r.slice(i+1)))}else t.$set(e,"___selected",n)},function(s){return t.setTest(e)}]}})]):t._e(),t._v(" "),t._l(t._headers,(function(r,a){return s("td",{key:a},[t._t(r.value,(function(){return[t._v("\n\t\t\t\t\t\t"+t._s(t.getValue(e,r.value))+"\n\t\t\t\t\t")]}),{item:e})],2)})),t._v(" "),t.options&&t.options.length>0?s("td",[t.options.includes("show")?s("v-icon",{staticClass:"ml-2",attrs:{color:"blue"},on:{click:function(s){return t.$emit("show",e)}}},[t._v("mdi-eye ")]):t._e(),t._v(" "),t.options.includes("edit")?s("v-icon",{staticClass:"ml-2",attrs:{color:"blue"},on:{click:function(s){return t.$emit("edit",e)}}},[t._v("mdi-pencil ")]):t._e(),t._v(" "),t.options.includes("remove")?s("v-icon",{staticClass:"ml-2",attrs:{color:"red"},on:{click:function(s){return t.$emit("remove",e)}}},[t._v(" mdi-delete ")]):t._e()],1):t._e()],2)})),t._v(" "),t.totals?s("tr",t._l(t._headers,(function(e,r){return s("td",{key:r,class:{lighten:t.totals.includes(e.value)}},[t.totals.includes(e.value)?s("span",[t._v(" "+t._s(t.items.reduce((function(t,s){return t+parseInt(s[e.value])}),0))+" ")]):t._e()])})),0):t._e(),t._v(" "),t._t("totals")],2)])])}),[],!1,null,"03cddcfa",null);const v=_.exports;u()(_,{VIcon:d.Z})},8072:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>x});s(7033);function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const i={data:function(){return{show_master_dialog:!1,show_course_dialog:!1,master:{},course:{}}},components:{lTable:s(8384).default},created:function(){this.fechCourseMaster()},computed:{},methods:{fechCourseMaster:function(){var t=this;axios.get("course-master/"+this.$route.params.id).then((function(e){return t.master=e.data}))},addCourseMaster:function(){this.master={courses:[]},this.show_master_dialog=!0},saveCourseMaster:function(){var t=this;if(this.master.id)return this.updateCourseMaster();axios.post("course-master",this.master).then((function(e){t.$store.set("add",a({_t:"course_masters"},e.data)),t.show_master_dialog=!1}))},updateCourseMaster:function(){var t=this;axios.put("course-master/"+this.master.id,this.master).then((function(e){t.$store.set("update",a({_t:"course_masters"},e.data)),t.show_master_dialog=!1}))},editCourseMaster:function(t){var e=this;axios.get("course-master/"+t).then((function(t){e.master=t.data,e.master.department_ids=e.master.departments.map((function(t){return t.id})),e.show_master_dialog=!0}))},deleteCourseMaster:function(t){var e=this;confirm("هل انت متاكد من الحذف")&&axios.delete("course-master/"+t).then((function(s){e.$store.set("remove",{_t:"course_masters",id:t})}))},addCourse:function(){this.courese={},this.show_course_dialog=!0},saveCourse:function(t){this.master.courses.push(a({},this.course)),this.course.name="","save_and_new"!=t&&(this.show_course_dialog=!1)},removeCourse:function(t){this.master.courses=this.master.courses.filter((function(e){return e!=t}))}}};var o=s(1900),l=s(3453),c=s.n(l),u=s(1819),d=s(5255),_=s(9489),v=s(7218),h=s(4577),m=s(394),p=s(6546),f=s(6003),b=s(2515),g=s(2361),y=(0,o.Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-title",{staticClass:"pa-2 primary white--text"},[t._v("\n\t\t"+t._s(t.master.name)+"\n\t\t"),s("v-spacer")],1),t._v(" "),s("v-card-text",[s("p",[t._v(t._s(t.master.name))]),t._v(" "),s("v-list",{attrs:{subheader:""}},[s("v-subheader",[t._v("الاقسام")]),t._v(" "),t._l(t.master.departments,(function(e,r){return[s("v-list-item",{key:t.master.id},[s("v-list-item-avatar",{attrs:{color:"primary white--text"}},[s("span",{staticClass:"title"},[t._v(t._s(r+1))])]),t._v(" "),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1),t._v(" "),s("v-chip",{staticClass:"mx-2",attrs:{small:"",label:""},on:{click:function(s){return s.stopPropagation(),t.editCourseMaster(e.id)}}},[t._v("تعديل")]),t._v(" "),s("v-chip",{attrs:{color:"error",small:"",label:""},on:{click:function(s){return s.stopPropagation(),t.deleteCourseMaster(e.id)}}},[t._v("حذف")])],1),t._v(" "),s("v-divider")]})),t._v(" "),s("v-subheader",[t._v("الدورات")]),t._v(" "),t._l(t.master.courses,(function(e,r){return[s("v-list-item",{key:t.master.id},[s("v-list-item-avatar",{attrs:{color:"primary white--text"}},[s("span",{staticClass:"title"},[t._v(t._s(r+1))])]),t._v(" "),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1),t._v(" "),s("v-chip",{staticClass:"mx-2",attrs:{small:"",label:""},on:{click:function(s){return s.stopPropagation(),t.editCourseMaster(e.id)}}},[t._v("تعديل")]),t._v(" "),s("v-chip",{attrs:{color:"error",small:"",label:""},on:{click:function(s){return s.stopPropagation(),t.deleteCourseMaster(e.id)}}},[t._v("حذف")])],1),t._v(" "),s("v-divider")]}))],2)],1)],1)}),[],!1,null,"b082b988",null);const x=y.exports;c()(y,{VCard:u.Z,VCardText:d.ZB,VCardTitle:d.EB,VChip:_.Z,VDivider:v.Z,VList:h.Z,VListItem:m.Z,VListItemAvatar:p.Z,VListItemContent:f.km,VListItemTitle:f.V9,VSpacer:b.Z,VSubheader:g.Z})},2515:(t,e,s)=>{"use strict";s.d(e,{Z:()=>r});s(1373);const r=(0,s(8131).Ji)("spacer","div","v-spacer")},2361:(t,e,s)=>{"use strict";s.d(e,{Z:()=>l});var r=s(3379),a=s.n(r),n=s(1854),i={insert:"head",singleton:!1};a()(n.Z,i);n.Z.locals;var o=s(2066);const l=(0,s(5530).Z)(o.Z).extend({name:"v-subheader",props:{inset:Boolean},render(t){return t("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})}}]);